(this["webpackJsonpirregular-verbs-challenge"]=this["webpackJsonpirregular-verbs-challenge"]||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(11),r=a.n(c),i=(a(111),a(8)),l=(a(112),a(22)),o=a(15),u=a(164),j=a(25),b=a(68),h=a.n(b),p=a(87),O=a(40),d=a(12),m=a(88),v=a.n(m),f=function(){return v.a.get("".concat("/irregular-verbs-challenge","/verbs.json")).then((function(e){return e.data}))},g="FETCHING_START",x="FETCHING_COMPLETE",_="GET_VERBS_SUCCESS",S="GET_VERBS_SUCCESS",N="UPDATE_VERBS",y={verbs:[],isFetching:!1,error:!1},P=function(e){return{type:N,payload:e}},C=function(){return{type:x}},I=a(2),T=function(){var e=Object(j.b)();return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,f();case 4:a=e.sent,localStorage.setItem("verbs",JSON.stringify(a)),t({type:_,payload:a}),t(C()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t({type:S}),t(C());case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(I.jsxs)("section",{className:"homepage",children:[Object(I.jsx)("span",{className:"homepage__welcome",children:"Welcome to"}),Object(I.jsx)("h1",{className:"homepage__title",children:"Irregular Verbs Challenge"}),Object(I.jsx)("p",{className:"homepage__subtitle",children:"Try yourself in this challenge for check your knowledge about irregular verbs"}),Object(I.jsx)("hr",{}),Object(I.jsx)("p",{className:"homepage__faq",children:"What to do? \u2192 enter three forms of verbs as many times in a row as you can."}),Object(I.jsxs)("div",{className:"homepage__controls",children:[Object(I.jsx)(u.a,{variant:"outlined",className:"homepage__button",component:l.b,to:"/competitive",children:"Competitive mode"}),Object(I.jsx)("span",{className:"homepage__buttons-divider",children:"or"}),Object(I.jsx)(u.a,{variant:"outlined",className:"homepage__button",component:l.b,to:"/learn",children:"Learning mode"})]})]})},k=a(36),E=a.p+"static/media/heart.b0e72901.png",w=a(167),L=a(168),B=a(169),F=a(170),V=a(171),R=a(172),M=a(173),U=a(174),W=a(175),D=a(179),J=a(176),Y=a(94),A=a.n(Y),G=a(93),z=a.n(G);function H(e){var t=e.verb,a=e.mistake,s=Object(n.useState)(!1),c=Object(i.a)(s,2),r=c[0],l=c[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(V.a,{children:Object(I.jsxs)(R.a,{onClick:function(){return l(!r)},component:"th",scope:"row",align:"center",children:[Object(I.jsx)(U.a,{"aria-label":"expand row",size:"small",children:r?Object(I.jsx)(z.a,{}):Object(I.jsx)(A.a,{})}),t]})}),Object(I.jsx)(V.a,{children:Object(I.jsx)(R.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(I.jsx)(W.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(I.jsxs)(D.a,{margin:1,children:[Object(I.jsx)(J.a,{variant:"h6",gutterBottom:!0,component:"div",children:t}),Object(I.jsxs)(B.a,{size:"small","aria-label":"purchases",children:[Object(I.jsx)(F.a,{children:Object(I.jsxs)(V.a,{children:[Object(I.jsx)(R.a,{children:"Your answer"}),Object(I.jsx)(R.a,{children:"Right answer"})]})}),Object(I.jsxs)(M.a,{children:[Object(I.jsxs)(V.a,{children:[Object(I.jsx)(R.a,{children:a.userInfinitive}),Object(I.jsx)(R.a,{children:a.infinitive})]}),Object(I.jsxs)(V.a,{children:[Object(I.jsx)(R.a,{children:a.userPast}),Object(I.jsx)(R.a,{children:a.past})]}),Object(I.jsxs)(V.a,{children:[Object(I.jsx)(R.a,{children:a.userPastParticiple}),Object(I.jsx)(R.a,{children:a.pastParticiple})]})]})]})]})})})})]})}var X=function(e){var t=e.setStatus;Object(n.useEffect)((function(){t("default")}),[]);var a=Object(j.c)((function(e){return e.result}));return console.log(a.mistakesList),Object(I.jsxs)("div",{className:"results",children:[Object(I.jsx)("h1",{className:"results__title",children:"Congratulations! You complete challenge!"}),Object(I.jsxs)("span",{className:"results__score",children:["Your score: ",a.score]}),Object(I.jsxs)("span",{className:"results__score",children:["Your total score: ",a.totalScore]}),Object(I.jsx)("div",{className:"results__mistakes",children:Object(I.jsx)(w.a,{component:L.a,children:Object(I.jsxs)(B.a,{"aria-label":"collapsible table",children:[Object(I.jsx)(F.a,{children:Object(I.jsx)(V.a,{children:Object(I.jsx)(R.a,{align:"center",colSpan:2,children:"Your mistakes"})})}),Object(I.jsx)(M.a,{children:Object.keys(a.mistakesList).map((function(e,t){return Object(I.jsx)(H,{verb:e,mistake:a.mistakesList[e]},t)}))})]})})}),Object(I.jsxs)("div",{className:"results__controls",children:[Object(I.jsx)(u.a,{className:"results__control",variant:"outlined",component:l.b,to:"/competitive",children:"Play again"}),Object(I.jsx)(u.a,{className:"results__control",variant:"outlined",component:l.b,to:"/learn",children:"Learn verbs"})]})]})},q=s.a.memo((function(e){var t=e.currentVerb,a=e.score,s=e.life,c=e.setIsTyping,r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)("Okay, here we go!!!"),b=Object(i.a)(j,2),h=b[0],p=b[1],O=Object(n.useState)(!1),d=Object(i.a)(O,2),m=d[0],v=d[1],f=Object(n.useState)(!1),g=Object(i.a)(f,2),x=g[0],_=g[1];return Object(n.useEffect)((function(){o||t.infinitive===h?o&&t.infinitive!==h?function(){var e=t.infinitive;setTimeout((function(){e=e.slice(0,h.length+1),p(e.trim())}),100)}():(c(!1),u(!1)):(c(!0),function(){var e=h;setTimeout((function(){e=e.slice(0,e.length-1),p(e),0===h.length&&(u(!0),p(String(" ")))}),100)}()),m||(v(!0),setInterval((function(){_((function(e){return!e}))}),1e3))}),[t,h]),Object(I.jsxs)("div",{className:"challenge__block",children:[Object(I.jsx)("span",{className:"challenge__lives",children:s.map((function(e){return Object(I.jsx)("img",{className:"challenge__heart",src:E,alt:s.length})}))}),Object(I.jsxs)("span",{className:"challenge__score",children:["score: ",a]}),Object(I.jsxs)("h1",{className:"challenge__verb",children:[h,Object(I.jsx)("span",{className:"challenge__cursor",children:x?"|":Object(I.jsx)(I.Fragment,{children:"\xa0"})})]})]})})),K=a(177),Q=a(65),Z=function(e){var t=e.onSubmit,a=e.setStatus,n=e.isSubmit,s=e.errors,c=e.generateVerb,r=e.setErrors,i=e.setIsSubmit,l=(e.life,e.isTyping),o=Object(Q.a)({initialValues:{infinitive:"",past:"",pastParticiple:""},onSubmit:t});return Object(I.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(I.jsxs)("div",{className:"challenge__input-group",children:[Object(I.jsx)(K.a,{InputProps:{readOnly:n},className:"challenge__input",variant:"outlined",label:"Infinitive",type:"text",name:"infinitive",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.infinitive}),o.errors.infinitive&&o.touched.infinitive&&o.errors.infinitive,Object(I.jsx)(K.a,{InputProps:{readOnly:n},error:!!s.past,className:"challenge__input",variant:"outlined",label:"2-nd form",type:"text",name:"past",helperText:s.past,onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.past}),o.errors.past&&o.touched.past&&o.errors.past,Object(I.jsx)(K.a,{InputProps:{readOnly:n},error:!!s.pastParticiple,className:"challenge__input",variant:"outlined",label:"3-rd form",type:"text",name:"pastParticiple",helperText:s.pastParticiple,onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.pastParticiple}),o.errors.pastParticiple&&o.touched.pastParticiple&&o.errors.pastParticiple]}),Object(I.jsxs)("div",{className:"challenge__button-group",children:[Object(I.jsx)(u.a,{disabled:n||l,fullWidth:!0,className:"challenge__button",variant:"contained",color:"primary",type:"submit",children:"Submit"}),Object(I.jsx)(u.a,{onClick:function(){o.resetForm(),r({infinitive:"",past:"",pastParticiple:""}),a("default"),i(!1),c()},disabled:!n,fullWidth:!0,className:"challenge__button",variant:"contained",color:"secondary",children:"Next"})]})]})},$="UPDATE_RESULT",ee={totalScore:localStorage.getItem("totalScore"),score:0,mistakesList:[]},te=function(e){return{type:$,payload:e}},ae=s.a.memo((function(e){var t=Object(j.c)((function(e){return e.challenge.verbs}));t=0===t.length?JSON.parse(localStorage.getItem("verbs")):t;var a=Object(n.useState)(),s=Object(i.a)(a,2),c=s[0],r=s[1],l=Object(n.useState)([1,1,1,1,1,1]),u=Object(i.a)(l,2),b=u[0],h=u[1],p=Object(n.useState)(0),m=Object(i.a)(p,2),v=m[0],f=m[1],g=Object(n.useState)(!0),x=Object(i.a)(g,2),_=x[0],S=x[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),C=y[0],T=y[1],E=Object(n.useState)(!1),w=Object(i.a)(E,2),L=w[0],B=w[1],F=Object(n.useState)({infinitive:"",past:"",pastParticiple:""}),V=Object(i.a)(F,2),R=V[0],M=V[1],U=Object(j.b)(),W=function(){var e=Math.floor(Math.random()*t.length);T(t[e]);var a=Object(O.a)(t);a.splice(e,1),U(P(a))};return Object(n.useEffect)((function(){W()}),[]),0===b.length?(U(te({mistakesList:c,score:v})),Object(I.jsx)(o.a,{to:"/result"})):Object(I.jsxs)("section",{className:"challenge",children:[Object(I.jsx)(q,{setIsTyping:S,currentVerb:C,score:v,life:b,mistakesList:c}),Object(I.jsx)(Z,{isTyping:_,setStatus:e.setStatus,onSubmit:function(t){var a=0;B(!0),Object.keys(t).map((function(e){C[e].toLowerCase().trim()!==t[e].toLowerCase().trim()&&(a++,r((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(k.a)({},C.infinitive,{infinitive:C.infinitive,past:C.past,pastParticiple:C.pastParticiple,userInfinitive:t.infinitive,userPast:t.past,userPastParticiple:t.pastParticiple}))})),M((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(k.a)({},e,C[e]))})))})),0===a?(e.setStatus("success"),f((function(e){return e+1}))):1===a?(e.setStatus("mistake"),h((function(e){return e.slice(0,e.length-1)})),f((function(e){return e+.5}))):(h((function(e){return e.slice(0,e.length-2)})),e.setStatus("wrong"))},generateVerb:W,errors:R,isSubmit:L,setErrors:M,setIsSubmit:B,life:b})]})})),ne=function(){return Object(I.jsxs)("div",{className:"leaderboard",children:[Object(I.jsx)("h1",{className:"leaderboard__title",children:"Leaderboard"}),Object(I.jsx)("div",{className:"leaderboard__list",children:Object(I.jsxs)("div",{className:"leaderboard__item",children:[Object(I.jsx)("img",{src:"http://placehold.it/150x150",alt:"",className:"leaderboard__photo"}),Object(I.jsx)("div",{className:"leaderboard__score-block",children:Object(I.jsx)("span",{className:"leaderboard__score",children:"Total score: 10"})})]})})]})},se=s.a.memo((function(e){var t=e.currentVerb,a=e.setIsTyping,s=Object(n.useState)(!1),c=Object(i.a)(s,2),r=c[0],l=c[1],o=Object(n.useState)("Start!!!"),u=Object(i.a)(o,2),j=u[0],b=u[1],h=Object(n.useState)(!1),p=Object(i.a)(h,2),O=p[0],d=p[1],m=Object(n.useState)(!1),v=Object(i.a)(m,2),f=v[0],g=v[1];return Object(n.useEffect)((function(){r||t.infinitive===j?r&&t.infinitive!==j?function(){var e=t.infinitive;setTimeout((function(){e=e.slice(0,j.length+1),b(e.trim())}),100)}():(a(!1),l(!1)):(a(!0),function(){var e=j;setTimeout((function(){e=e.slice(0,e.length-1),b(e),0===j.length&&(l(!0),b(String(" ")))}),100)}()),O||(d(!0),setInterval((function(){g((function(e){return!e}))}),1e3))}),[t,j]),Object(I.jsx)("div",{className:"challenge__block",children:Object(I.jsxs)("h1",{className:"challenge__verb",children:[j,Object(I.jsx)("span",{className:"challenge__cursor",children:f?"|":Object(I.jsx)(I.Fragment,{children:"\xa0"})})]})})})),ce=function(e){var t=e.onSubmit,a=e.setStatus,n=e.isSubmit,s=e.errors,c=e.generateVerb,r=e.setErrors,i=e.setIsSubmit,l=e.isTyping;console.log("ChallengeForm render");var o=Object(Q.a)({initialValues:{infinitive:"",past:"",pastParticiple:""},onSubmit:t});return Object(I.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(I.jsxs)("div",{className:"challenge__input-group",children:[Object(I.jsx)(K.a,{InputProps:{readOnly:n},className:"challenge__input",variant:"outlined",label:"Infinitive",type:"text",name:"infinitive",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.infinitive}),o.errors.infinitive&&o.touched.infinitive&&o.errors.infinitive,Object(I.jsx)(K.a,{InputProps:{readOnly:n},error:!!s.past,className:"challenge__input",variant:"outlined",label:"2-nd form",type:"text",name:"past",helperText:s.past,onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.past}),o.errors.past&&o.touched.past&&o.errors.past,Object(I.jsx)(K.a,{InputProps:{readOnly:n},error:!!s.pastParticiple,className:"challenge__input",variant:"outlined",label:"3-rd form",type:"text",name:"pastParticiple",helperText:s.pastParticiple,onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.pastParticiple}),o.errors.pastParticiple&&o.touched.pastParticiple&&o.errors.pastParticiple]}),Object(I.jsxs)("div",{className:"challenge__button-group",children:[Object(I.jsx)(u.a,{disabled:n||l,fullWidth:!0,className:"challenge__button",variant:"contained",color:"primary",type:"submit",children:"Submit"}),Object(I.jsx)(u.a,{onClick:function(){o.resetForm(),r({infinitive:"",past:"",pastParticiple:""}),a("default"),i(!1),c()},disabled:!n,fullWidth:!0,className:"challenge__button",variant:"contained",color:"secondary",children:"Next"})]})]})},re=s.a.memo((function(e){var t=Object(j.c)((function(e){return e.challenge.verbs}));t=0===t.length?JSON.parse(localStorage.getItem("verbs")):t;var a=Object(n.useState)(!0),s=Object(i.a)(a,2),c=s[0],r=s[1],l=Object(n.useState)(!1),b=Object(i.a)(l,2),h=b[0],p=b[1],m=Object(n.useState)(),v=Object(i.a)(m,2),f=v[0],g=v[1],x=Object(n.useState)(""),_=Object(i.a)(x,2),S=_[0],N=_[1],y=Object(n.useState)(!1),C=Object(i.a)(y,2),T=C[0],E=C[1],w=Object(n.useState)({infinitive:"",past:"",pastParticiple:""}),L=Object(i.a)(w,2),B=L[0],F=L[1],V=Object(j.b)(),R=function(){var e=Math.floor(Math.random()*t.length);N(t[e]);var a=Object(O.a)(t);a.splice(e,1),V(P(a))};return Object(n.useEffect)((function(){R()}),[]),h?(V(te({mistakesList:f,score:0})),Object(I.jsx)(o.a,{to:"/result"})):Object(I.jsxs)("section",{className:"challenge",children:[Object(I.jsx)(se,{setIsTyping:r,currentVerb:S}),Object(I.jsx)(ce,{isTyping:c,setStatus:e.setStatus,onSubmit:function(t){var a=0;E(!0),Object.keys(t).map((function(e){S[e].toLowerCase().trim()!==t[e].toLowerCase().trim()&&(a++,g((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(k.a)({},S.infinitive,{infinitive:S.infinitive,past:S.past,pastParticiple:S.pastParticiple,userInfinitive:t.infinitive,userPast:t.past,userPastParticiple:t.pastParticiple}))})),F((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(k.a)({},e,S[e]))})))})),0===a?e.setStatus("success"):1===a?e.setStatus("mistake"):e.setStatus("wrong")},generateVerb:R,errors:B,isSubmit:T,setErrors:F,setIsSubmit:E}),Object(I.jsx)("div",{className:"challenge__controls",children:Object(I.jsx)(u.a,{onClick:function(){return p(!0)},className:"challenge__stop",variant:"outlined",children:"Stop"})})]})}));var ie=function(){var e=Object(n.useState)("default"),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(I.jsx)("div",{className:"App ".concat("default"!==a?a:""),children:Object(I.jsx)(l.a,{children:Object(I.jsxs)(o.d,{children:[Object(I.jsx)(o.b,{exact:!0,path:"/",component:T}),Object(I.jsx)(o.b,{exact:!0,path:"/competitive",children:Object(I.jsx)(ae,{setStatus:s})}),Object(I.jsx)(o.b,{exact:!0,path:"/learn",children:Object(I.jsx)(re,{setStatus:s})}),Object(I.jsx)(o.b,{exact:!0,path:"/result",children:Object(I.jsx)(X,{setStatus:s})}),Object(I.jsx)(o.b,{exact:!0,path:"/leaderboard",component:ne})]})})})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,181)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},oe=a(51),ue=a(97),je=Object(oe.b)({challenge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case g:return Object(d.a)(Object(d.a)({},e),{},{isFetching:!0});case x:return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1});case _:return Object(d.a)(Object(d.a)({},e),{},{verbs:Object(O.a)(n),error:!1});case S:return Object(d.a)(Object(d.a)({},e),{},{error:!0});case N:return Object(d.a)(Object(d.a)({},e),{},{verbs:Object(O.a)(n)});default:return e}},result:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case $:var s;return localStorage.getItem("totalScore")?s=(s=parseFloat(localStorage.getItem("totalScore")))<n.score?n.score:s:(localStorage.setItem("totalScore",n.score),s=n.score),Object(d.a)(Object(d.a)({},e),{},{mistakesList:Object(d.a)({},n.mistakesList),score:n.score,totalScore:s});default:return e}}}),be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.c,he=Object(oe.d)(je,be(Object(oe.a)(ue.a)));window.__store__=he;var pe=he;r.a.render(Object(I.jsx)(j.a,{store:pe,children:Object(I.jsx)(ie,{})}),document.getElementById("root")),le()}},[[138,1,2]]]);
//# sourceMappingURL=main.629c0ed8.chunk.js.map